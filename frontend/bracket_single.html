<style>
  /* manual positions for each match (example) */
  
    /* bracket tree grid */
  .bracket-tree {
    position: relative;
    width: 1000px; /* adjust as needed */
    height: 400px; /* adjust as needed */
    background: transparent;
    overflow: visible; /* so matches can overflow if needed */
  }

  /* Scrollable wrapper */
.bracket-scroll-container {
  width: 80%;       /* fill available width */
  max-width: 1000px; /* optional max width */
  max-height: 500px; /* adjust as needed */
  overflow: auto;    /* scroll when content exceeds */
  border: 1px solid var(--border);
  padding: 8px;
  background: var(--panel);
  border-radius: 10px;
}

  
/* rounds are absolute so you can position manually */
.bracket-tree .round {
  position: absolute;
  display: block; /* remove flex */
  width: 200px;   /* width of each round column */
}

/* quarterfinals, semifinals, final positions */
.bracket-tree .round.quarterfinal {
  left: 0;
  top: 0;
}

.bracket-tree .round.semifinal {
  left: 250px; /* adjust horizontal spacing */
  top: 50px;   /* adjust vertical offset */
}

.bracket-tree .round.final {
  left: 500px; /* adjust horizontal spacing */
  top: 130px;  /* adjust vertical offset */
}

/* matches inside rounds */
.bracket-tree .round .match {
  position: absolute;
  width: 200px;
  background: #222;
  border: 1px solid #444;
  border-radius: 6px;
  padding: 6px 10px;
  font-size: 12px;
}
  .bracket-line{
      fill: none;
      stroke: #882f2f;
      stroke-width: 2px;
  }


  
#qf1 { top: 0; left: 0; }
#qf2 { top: 100px; left: 0; }
#qf3 { top: 200px; left: 0; }
#qf4 { top: 300px; left: 0; }

#sf1 { top: 10px; left: 10; }
#sf2 { top: 200px; left: 10; }

#f1  { top: 25px; left: 0; }

</style>
<div class="sbracket-container" style="display: flex; flex-direction: row; gap: 12px;">
  <div style="display:flex;gap:12px;align-items:flex-start;margin-top:10px;margin-bottom:12px;flex-wrap:wrap"> 
    <div style="flex:1;min-width:260px"> 
      <div class="bracket-top8" style="display:grid;grid-template-columns:2fr 3fr;gap:8px 12px"> 
        <label>Player 1: <input id="sp1" type="text"></label> 
        <label>Player 2: <input id="sp8" type="text"></label> 
        <label>Player 3: <input id="sp4" type="text"></label> 
        <label>Player 4: <input id="sp5" type="text"></label> 
        <label>Player 5: <input id="sp3" type="text"></label> 
        <label>Player 6: <input id="sp6" type="text"></label> 
        <label>Player 7: <input id="sp2" type="text"></label> 
        <label>Player 8: <input id="sp7" type="text"></label> 
      </div> 
      <div style="margin-top:8px;display:flex;gap:8px"> 
        <button class="btn" onclick="saveSinglePlayers()">ðŸ’¾ Save Top 8</button> 
        <button class="btn" onclick="resetSingle()">ðŸ”„ Reset Top 8</button> 
      </div> 
    </div> 
  </div>
  
  <div class="bracket-scroll-container">
    <div class="bracket-tree" id="visualBracket" aria-label="Bracket tree">
      <!-- Quarterfinals -->
      <div class="round quarterfinal">
        <div class="match" id="qf1">
          <div class="player-line"><span id="qf1p1">Player 1</span><input type="number" id="qf1s1"></div>
          <div class="player-line"><span id="qf1p2">Player 2</span><input type="number" id="qf1s2"></div>
        </div>
        <div class="match" id="qf2">
          <div class="player-line"><span id="qf2p1">Player 3</span><input type="number" id="qf2s1"></div>
          <div class="player-line"><span id="qf2p2">Player 4</span><input type="number" id="qf2s2"></div>
        </div>
  
        <div class="match" id="qf3">
          <div class="player-line"><span id="qf3p1">Player 5</span><input type="number" id="qf3s1"></div>
          <div class="player-line"><span id="qf3p2">Player 6</span><input type="number" id="qf3s2"></div>
        </div>
        <div class="match" id="qf4">
          <div class="player-line"><span id="qf4p1">Player 7</span><input type="number" id="qf4s1"></div>
          <div class="player-line"><span id="qf4p2">Player 8</span><input type="number" id="qf4s2"></div>
        </div>
      </div>
  
      <!-- Semifinals -->
      <div class="round semifinal">
        <div class="match" id="sf1">
          <div class="player-line"><span id="sf1p1">Winner QF1</span><input type="number" id="sf1s1"></div>
          <div class="player-line"><span id="sf1p2">Winner QF2</span><input type="number" id="sf1s2"></div>
        </div>
  
        <div class="match" id="sf2">
          <div class="player-line"><span id="sf2p1">Winner QF3</span><input type="number" id="sf2s1"></div>
          <div class="player-line"><span id="sf2p2">Winner QF4</span><input type="number" id="sf2s2"></div>
        </div>
      </div>
  
      <!-- Final -->
      <div class="round final">
        <div class="match" id="f1">
          <div class="player-line"><span id="f1p1">Winner SF1</span><input type="number" id="f1s1"></div>
          <div class="player-line"><span id="f1p2">Winner SF2</span><input type="number" id="f1s2"></div>
        </div>
      </div>
    </div>
  </div>

</div>

<script>
function initSingle(){
  const inputs = document.querySelectorAll('#single #visualBracket input[type=number]');
  inputs.forEach(i => {
    i.removeEventListener('input', updateBracket);
    i.addEventListener('input', updateBracket);
  });

  // run once so saved data appears
  setTimeout(()=>{ updateBracket(); }, 30);
}
</script>